<!doctype html>
<html>
  <head>
  	<meta name="viewport" content="width=device-width, initial-scale=1.0">

  	<link rel="stylesheet" href="stylesheets/index.css" />
  	<link rel="stylesheet" href="stylesheets/bootstrap.min.css" />
    <link rel="stylesheet" href="stylesheets/d3.slider.css" /> 
  	
  	<!--bootstrap-->
  	<script type="text/javascript" src="js/lib/bootstrap.min.js"></script>	
    <script src="//code.jquery.com/jquery-1.10.2.js"></script>
    <script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
    <script type="text/javascript" src="js/lib/d3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  	
    <Link href='//api.tiles.mapbox.com/mapbox.js/v1.3.1/mapbox.css' rel='stylesheet' />
    <Script src='//api.tiles.mapbox.com/mapbox.js/v1.3.1/mapbox.js'></Script>
    
    <title> Edible School Yard Impact Visualization</title>
    <Style>
    /*
      #onscreen {
          position: absolute;
          top: 10px;
          right: 10px;
          width: 300px;
          height: 100px;
          background: #fff;
          z-index: 100;
          overflow-y: scroll;
      }
      */

      #map {
        width:980px;
        height:500px;
        padding: 40px 15px;
        text-align: center;
      }
    </Style>
  </head>
  <body>
	  <div class="container">

	    <div class="title">
	        <h1>Edible School Yard Impact Visualization</h1>
	        <p class="lead">A data visualization project for Open Innovation program at Haas School of Business, UC-Berkeley</p>
	    </div>

      
    
        <div id="slider7"></div>
	  <div id='map' class='dark' style="margin-top:20px;"></div>
   
       <script src="js/d3.slider.js"></script>
        <script>
           d3.select('#slider7').call(d3.slider().axis(true).min(1990).max(2014).step(2));
        </script>

        <Script type='text/javascript'>
        var map = L.mapbox.map('map', 'examples.map-9ijuk24y')
            .setView([37.879611, -122.269101], 3);
            /**
//Loading CSV files into the map
        $.ajax({
            // you will need to replace this URL with the URL to your CSV file.
            url: '/mapbox.js/assets/airports.csv',
            success: function csvLoad(csv) {
                markerLayer.setGeoJSON(csv2geojson.csv2geojson(csv));
            }
        });
**/

/**
//single marker
        L.mapbox.markerLayer(
        {
            // this feature is in the GeoJSON format: see geojson.org
            // for the full specification
            type: 'Feature',
            geometry: {
                type: 'Point',
                // coordinates here are in longitude, latitude order because
                // x, y is the standard for GeoJSON and many formats
                coordinates: [-122.26, 37.8]
            },
            properties: {
                title: 'Chez Panisse Restaurant',
                description: 'Origin of awesomness',
                // one can customize markers by adding simplestyle properties
                // http://mapbox.com/developers/simplestyle/
                'marker-size': 'large',
                'marker-color': '#f0a'
            }
        },
        {
            type: 'Feature',
            geometry: {
                type: 'Point',
                coordinates: [-123.7, 35.3]
            },
            properties: {
                title: 'Marker Two',
                description: 'Another marker',
                'marker-size': 'large', 
                'marker-color': '#f0a'
            }
        }
        ).addTo(map);
**/

        var geoJson = [
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-122.27094, 37.87673]
                },
                properties: {
                    title: 'Marker Two',
                    description: 'Another marker, including <a href="http://mapbox.com">a link</a>.',
                    'marker-color': '#0099ff'
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-122.27099, 37.876]
                },
                properties: {
                    title: 'Marker Two',
                    description: 'Another marker, including <a href="http://mapbox.com">a link</a>.',
                    'marker-color': '#0099ff'
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-122.28315353393555, 37.882712062928036]
                },
                properties: {
                    title: 'Marker Two',
                    description: 'Another marker, including <a href="http://mapbox.com">a link</a>.',
                    'marker-color': '#0099ff'
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-122.28504180908203, 37.861573046964764]
                },
                properties: {
                    title: 'Marker Two',
                    description: 'Another marker, including <a href="http://mapbox.com">a link</a>.',
                    'marker-color': '#0099ff'
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-122.2584342956543,37.867671462486946]
                },
                properties: {
                    title: 'Marker Two',
                    description: 'Another marker, including <a href="http://mapbox.com">a link</a>.',
                    'marker-color': '#0099ff'
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-122.27663040161133, 37.869297621392384]
                },
                properties: {
                    title: 'Marker Two',
                    description: 'Another marker, including <a href="http://mapbox.com">a link</a>.',
                    'marker-color': '#0099ff'
                }
            },
            {
                type: 'Feature',
                geometry: {
                    type: 'Point',
                    coordinates: [-122.2690773, 37.87864]
                },
                properties: {
                    title: 'Chez Panisse Foundation',
                    description: 'Origin of awesomness',
                    // http://mapbox.com/developers/simplestyle/
                    'marker-color': '#CC0033'
                }
            }
        ];

        map.markerLayer.setGeoJSON(geoJson);
        // D3 Visulization layer


        </Script>
		  </div>

    </div><!-- /.container -->  	

  </body>

</html>